{"version":3,"sources":["formatNumber.js","styled-components.js","charts.js","App.js","serviceWorker.js","index.js"],"names":["formatNum","num","i","si","value","symbol","length","toFixed","replace","Container","styled","div","Nav","nav","Button","button","Barspec","bwDielspec","fwDielspec","pieChart","url","process","App","getData","arg","startDate","Date","state","split","weekstartDate","weekendDate","diffindaysfromstart","getTime","diffindaysfromend","console","log","fetch","then","response","json","data","batchRowValues","valueRanges","values","rows","rowObject","push","setState","items","populateDashboard","updateDashboard","event","selectedValue","dropdownOptions","bwCalls","fwCalls","otCalls","totalCalls","pieData","table","barData","bwdielData","source","fwdielData","avgCallsTrend","arr","this","arrLen","arrtab","bwarrdiel","fwarrdiel","piearr","count","j","dayOnly","dateOnly","hrOnly","hr","parseInt","date_time","calls","type","HourOfDay","Day","Calls","Blue_whale","Fin_whale","Other","bwCallsinhr","fwCallsinhr","otCallsinhr","totalCallsinhr","label","displayValue","date1Only","date2Only","Array","from","Set","reverse","className","href","target","options","onChange","placeholder","Vega","spec","theme","style","minHeight","Component","Boolean","window","location","hostname","match","hist","createBrowserHistory","ReactDOM","render","history","path","component","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.8cdd945d.chunk.js","sourcesContent":["export default function formatNum(num) {\r\n    let si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1e3, symbol: \"k\" },\r\n      { value: 1e6, symbol: \"m\" },\r\n      { value: 1e9, symbol: \"g\" },\r\n      { value: 1e12, symbol: \"t\" },\r\n      { value: 1e15, symbol: \"p\" },\r\n      { value: 1e18, symbol: \"e\" }\r\n    ];\r\n    let rx = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    let i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(2).replace(rx, \"$1\") + si[i].symbol;\r\n  }\r\n  ","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div``;\r\n\r\nexport const Nav = styled.nav``;\r\n\r\nexport const Button = styled.button``;\r\n","  export const Barspec = {\r\n    \"$schema\": \"https://vega.github.io/schema/vega-lite/v4.json\",\r\n    \"title\": \"Species call counts\",\r\n    \"description\": \"A basic stacked bar chart example.\",\r\n    \"width\": 1150,\r\n    \"height\": 300,\r\n    \"padding\": 5,\r\n    \"background\": \"transparent\",\r\n    \"data\": {\r\n      \"name\": \"table\",\r\n    },\r\n    \"mark\": \"bar\",\r\n    \"encoding\": {\r\n      \"x\": {\r\n        \"field\": \"date_time\",\r\n        \"type\": \"temporal\",\r\n        \"timeUnit\": \"yearmonthdatehoursminutes\",\r\n        \"scale\": {\"type\": \"utc\"},\r\n        \"axis\": {\"labelAngle\": 15},\r\n        \"title\": \"Date-time\"\r\n      },\r\n      \"y\": {\"field\": \"calls\", \"type\": \"quantitative\", \"title\": \"Calls per 15 minutes\"},\r\n      \"color\": {\r\n        \"field\": \"type\",\r\n        \"type\": \"nominal\",\r\n        \"scale\": {\r\n          \"domain\": [\"Blue_whale\", \"Fin_whale\"],\r\n        },\r\n        \"legend\": {\"title\": \"Type\"}\r\n      },\r\n      \"tooltip\": [\r\n        {\"field\": \"date_time\", \"type\": \"temporal\", \"timeUnit\": \"yearmonthdatehoursminutes\"},\r\n        {\"field\": \"calls\", \"type\": \"quantitative\"},\r\n        {\"field\": \"type\", \"type\": \"nominal\"}\r\n      ]\r\n    }\r\n  }\r\n\r\n  export const bwDielspec = {\r\n    \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\r\n    \"title\": \"Diel plot for Blue whale\",\r\n    \"description\": \"A basic scatter plot example depicting automobile statistics.\",\r\n    \"background\":\"transparent\",\r\n    \"width\": 500,\r\n    \"height\": 300,\r\n    \"padding\": 5,\r\n  \r\n    \"data\": [\r\n      {\r\n        \"name\": \"source\",\r\n        \"transform\": [\r\n          {\r\n            \"type\": \"filter\",\r\n            \"expr\": \"datum['HourOfDay'] != null && datum['Day'] != null && datum['Calls'] != null\"\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n  \r\n    \"scales\": [\r\n      {\r\n        \"name\": \"x\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": true,\r\n        \"zero\": true,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"HourOfDay\"},\r\n        \"range\": \"width\"\r\n      },\r\n      {\r\n        \"name\": \"y\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": true,\r\n        \"zero\": false,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"Day\"},\r\n        \"range\": \"height\",\r\n      },\r\n      {\r\n        \"name\": \"size\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": false,\r\n        \"zero\": true,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"Calls\"},\r\n        \"range\": [4,361]\r\n      }\r\n    ],\r\n  \r\n    \"axes\": [\r\n      {\r\n        \"scale\": \"x\",\r\n        \"grid\": true,\r\n        \"domain\": false,\r\n        \"orient\": \"bottom\",\r\n        \"tickCount\": 6,\r\n        \"title\": \"Hour of day (local time)\"\r\n      },\r\n      {\r\n        \"scale\": \"y\",\r\n        \"grid\": true,\r\n        \"domain\": false,\r\n        \"orient\": \"left\",\r\n        \"tickCount\": 5,\r\n        \"titlePadding\": 5,\r\n        \"title\": \"Day of month\"\r\n      }\r\n    ],\r\n  \r\n    \"legends\": [\r\n      {\r\n        \"size\": \"size\",\r\n        \"title\": \"Calls\",\r\n        \"format\": \"s\",\r\n        \"symbolStrokeColor\": \"#4682b4\",\r\n        \"symbolStrokeWidth\": 2,\r\n        \"symbolOpacity\": 0.5,\r\n        \"symbolType\": \"circle\"\r\n      }\r\n    ],\r\n  \r\n    \"marks\": [\r\n      {\r\n        \"name\": \"marks\",\r\n        \"type\": \"symbol\",\r\n        \"from\": {\"data\": \"source\"},\r\n        \"encode\": {\r\n          \"update\": {\r\n            \"x\": {\"scale\": \"x\", \"field\": \"HourOfDay\"},\r\n            \"y\": {\"scale\": \"y\", \"field\": \"Day\"},\r\n            \"size\": {\"scale\": \"size\", \"field\": \"Calls\"},\r\n            \"shape\": {\"value\": \"circle\"},\r\n            \"strokeWidth\": {\"value\": 2},\r\n            \"opacity\": {\"value\": 0.5},\r\n            \"stroke\": {\"value\": \"#4682b4\"},\r\n            \"fill\": {\"value\": \"transparent\"}\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  export const fwDielspec = {\r\n    \"$schema\": \"https://vega.github.io/schema/vega/v5.json\",\r\n    \"title\": \"Diel plot for Fin whale\",\r\n    \"description\": \"A basic scatter plot example depicting automobile statistics.\",\r\n    \"background\":\"transparent\",\r\n    \"width\": 500,\r\n    \"height\": 300,\r\n    \"padding\": 5,\r\n  \r\n    \"data\": [\r\n      {\r\n        \"name\": \"source\",\r\n        \"transform\": [\r\n          {\r\n            \"type\": \"filter\",\r\n            \"expr\": \"datum['HourOfDay'] != null && datum['Day'] != null && datum['Calls'] != null\"\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n  \r\n    \"scales\": [\r\n      {\r\n        \"name\": \"x\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": true,\r\n        \"zero\": true,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"HourOfDay\"},\r\n        \"range\": \"width\"\r\n      },\r\n      {\r\n        \"name\": \"y\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": true,\r\n        \"zero\": false,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"Day\"},\r\n        \"range\": \"height\",\r\n      },\r\n      {\r\n        \"name\": \"size\",\r\n        \"type\": \"linear\",\r\n        \"round\": true,\r\n        \"nice\": false,\r\n        \"zero\": true,\r\n        \"domain\": {\"data\": \"source\", \"field\": \"Calls\"},\r\n        \"range\": [4,361]\r\n      }\r\n    ],\r\n  \r\n    \"axes\": [\r\n      {\r\n        \"scale\": \"x\",\r\n        \"grid\": true,\r\n        \"domain\": false,\r\n        \"orient\": \"bottom\",\r\n        \"tickCount\": 6,\r\n        \"title\": \"Hour of day (local time)\"\r\n      },\r\n      {\r\n        \"scale\": \"y\",\r\n        \"grid\": true,\r\n        \"domain\": false,\r\n        \"orient\": \"left\",\r\n        \"tickCount\": 5,\r\n        \"titlePadding\": 5,\r\n        \"title\": \"Day of month\"\r\n      }\r\n    ],\r\n  \r\n    \"legends\": [\r\n      {\r\n        \"size\": \"size\",\r\n        \"title\": \"Calls\",\r\n        \"format\": \"s\",\r\n        \"symbolStrokeColor\": \"#4682b4\",\r\n        \"symbolStrokeWidth\": 2,\r\n        \"symbolOpacity\": 0.5,\r\n        \"symbolType\": \"circle\"\r\n      }\r\n    ],\r\n  \r\n    \"marks\": [\r\n      {\r\n        \"name\": \"marks\",\r\n        \"type\": \"symbol\",\r\n        \"from\": {\"data\": \"source\"},\r\n        \"encode\": {\r\n          \"update\": {\r\n            \"x\": {\"scale\": \"x\", \"field\": \"HourOfDay\"},\r\n            \"y\": {\"scale\": \"y\", \"field\": \"Day\"},\r\n            \"size\": {\"scale\": \"size\", \"field\": \"Calls\"},\r\n            \"shape\": {\"value\": \"circle\"},\r\n            \"strokeWidth\": {\"value\": 2},\r\n            \"opacity\": {\"value\": 0.5},\r\n            \"stroke\": {\"value\": \"#4682b4\"},\r\n            \"fill\": {\"value\": \"transparent\"}\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  export const pieChart = {\r\n    \"$schema\": \"https://vega.github.io/schema/vega/v3.0.json\",\r\n    \"background\": \"transparent\",\r\n    \"width\": 150,\r\n    \"height\": 150,\r\n    \"autosize\": \"pad\",\r\n    \"signals\": [\r\n      {\"name\": \"startAngle\", \"value\": 0},\r\n      {\"name\": \"endAngle\", \"value\": 6.29},\r\n      {\"name\": \"padAngle\", \"value\": 0},\r\n      {\"name\": \"sort\", \"value\": true},\r\n      {\"name\": \"strokeWidth\", \"value\": 2},\r\n      {\r\n        \"name\": \"selected\",\r\n        \"value\": \"\",\r\n        \"on\": [{\"events\": \"mouseover\", \"update\": \"datum\"}]\r\n      }\r\n    ],\r\n    \"data\": [\r\n      {\r\n        \"name\": \"table\",\r\n        \"values\": [\r\n          {\"category\": \"Blue whale\", \"calls\": 8},\r\n          {\"category\": \"Other sounds\", \"calls\": 10},\r\n          {\"category\": \"Fin whale\", \"calls\": 5},\r\n        ],\r\n        \"transform\": [\r\n          {\r\n            \"type\": \"pie\",\r\n            \"field\": \"calls\",\r\n            \"startAngle\": {\"signal\": \"startAngle\"},\r\n            \"endAngle\": {\"signal\": \"endAngle\"},\r\n            \"sort\": {\"signal\": \"sort\"}\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"name\": \"fieldSum\",\r\n        \"source\": \"table\",\r\n        \"transform\": [\r\n          {\r\n            \"type\": \"aggregate\",\r\n            \"fields\": [\"calls\"],\r\n            \"ops\": [\"sum\"],\r\n            \"as\": [\"sum\"]\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"legends\": [\r\n      {\r\n        \"fill\": \"color\",\r\n        \"title\": \"Type\",\r\n        \"orient\": \"none\",\r\n        \"padding\": {\"value\": 10},\r\n        \"encode\": {\r\n          \"symbols\": {\"enter\": {\"fillOpacity\": {\"value\": 1}}},\r\n          \"legend\": {\r\n            \"update\": {\r\n              \"x\": {\r\n                \"signal\": \"(width / 2) + if(selected && selected.category == datum.category, if(width >= height, height, width) / 2 * 1.1 * 0.8, if(width >= height, height, width) / 2 * 0.8)\",\r\n                \"offset\": 20\r\n              },\r\n              \"y\": {\"signal\": \"(height / 2)\", \"offset\": -50}\r\n            }\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    \"scales\": [\r\n      {\"name\": \"color\", \"type\": \"ordinal\", \"range\": {\"scheme\": \"category20\"}}\r\n    ],\r\n    \"marks\": [\r\n      {\r\n        \"type\": \"arc\",\r\n        \"from\": {\"data\": \"table\"},\r\n        \"encode\": {\r\n          \"enter\": {\r\n            \"fill\": {\"scale\": \"color\", \"field\": \"category\"},\r\n            \"x\": {\"signal\": \"width / 2\"},\r\n            \"y\": {\"signal\": \"height / 2\"}\r\n          },\r\n          \"update\": {\r\n            \"startAngle\": {\"field\": \"startAngle\"},\r\n            \"endAngle\": {\"field\": \"endAngle\"},\r\n            \"padAngle\": {\r\n              \"signal\": \"if(selected && selected.category == datum.category, 0.015, 0.015)\"\r\n            },\r\n            \"innerRadius\": {\r\n              \"signal\": \"if(selected && selected.category == datum.category, if(width >= height, height, width) / 2 * 0.45, if(width >= height, height, width) / 2 * 0.5)\"\r\n            },\r\n            \"outerRadius\": {\r\n              \"signal\": \"if(selected && selected.category == datum.category, if(width >= height, height, width) / 2 * 1.05 * 0.8, if(width >= height, height, width) / 2 * 0.8)\"\r\n            },\r\n            \"opacity\": {\r\n              \"signal\": \"if(selected && selected.category !== datum.category, 1, 1)\"\r\n            },\r\n            \"stroke\": {\"signal\": \"scale('color', datum.category)\"},\r\n            \"strokeWidth\": {\"signal\": \"strokeWidth\"},\r\n            \"fillOpacity\": {\r\n              \"signal\": \"if(selected && selected.category == datum.category, 0.8, 0.8)\"\r\n            }\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"type\": \"text\",\r\n        \"encode\": {\r\n          \"enter\": {\"fill\": {\"value\": \"#ffffff\"}, \"text\": {\"value\": \"\"}},\r\n          \"update\": {\r\n            \"opacity\": {\"value\": 1},\r\n            \"x\": {\"signal\": \"width / 2\"},\r\n            \"y\": {\"signal\": \"height / 2\"},\r\n            \"align\": {\"value\": \"center\"},\r\n            \"baseline\": {\"value\": \"middle\"},\r\n            \"fontSize\": {\"signal\": \"if(width >= height, height, width) * 0.05\"},\r\n            \"text\": {\"value\": \"\"}\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"name\": \"mark_calls\",\r\n        \"type\": \"text\",\r\n        \"from\": {\"data\": \"table\"},\r\n        \"encode\": {\r\n          \"enter\": {\r\n            \"text\": {\r\n              \"signal\": \"if(datum['endAngle'] - datum['startAngle'] < 0.3, '', datum['calls'])\"\r\n            },\r\n            \"x\": {\"signal\": \"if(width >= height, height, width) / 2\"},\r\n            \"y\": {\"signal\": \"if(width >= height, height, width) / 2\"},\r\n            \"radius\": {\r\n              \"signal\": \"if(selected && selected.category == datum.category, if(width >= height, height, width) / 2 * 1.05 * 0.65, if(width >= height, height, width) / 2 * 0.65)\"\r\n            },\r\n            \"theta\": {\"signal\": \"(datum['startAngle'] + datum['endAngle'])/2\"},\r\n            \"fill\": {\"value\": \"#FFFFFF\"},\r\n            \"fontSize\": {\"value\": 12},\r\n            \"align\": {\"value\": \"center\"},\r\n            \"baseline\": {\"value\": \"middle\"}\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }","import React, { Component } from \"react\";\r\nimport Dropdown from \"react-dropdown\";\r\nimport formatNum from \"./formatNumber\";\r\nimport { Container, Nav, Button } from \"./styled-components\";\r\nimport { Vega } from \"react-vega\";\r\n// import UserImg from \"./assets/images/user.png\";\r\nimport { Barspec, bwDielspec, fwDielspec, pieChartspec, pieChart } from \"./charts\";\r\n// import { Button } from \"bootstrap\";\r\n\r\nconst url = `https://sheets.googleapis.com/v4/spreadsheets/${process.env.REACT_APP_spreadsheetId}/values:batchGet?ranges=Sheet1!A:A&majorDimension=ROWS&key=${process.env.REACT_APP_apiKey}`;\r\n\r\nclass App extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      items: [],\r\n      dropdownOptions: [],\r\n      selectedValue: null,\r\n      bwCalls: null,\r\n      fwCalls: null,\r\n      otCalls: null,\r\n      totalCalls: null,\r\n      pieData: { table: []},\r\n      barData: { table: [] },\r\n      bwdielData: { source: [] },\r\n      fwdielData: { source: [] },\r\n      avgCallsTrend: [],\r\n      startDate: null\r\n    };\r\n  }\r\n\r\n  getData = arg => {\r\n    const multifactor=96;\r\n    const startDate=new Date(this.state.startDate.split(\" \")[0]);\r\n    const weekstartDate=new Date(arg.split(\" - \")[0]);\r\n    const weekendDate=new Date(arg.split(\" - \")[1]);\r\n    const diffindaysfromstart=(weekstartDate.getTime()-startDate.getTime())/(1000 * 3600 * 24);\r\n    const diffindaysfromend=(weekendDate.getTime()-startDate.getTime())/(1000 * 3600 * 24);\r\n    console.log(((diffindaysfromstart)*multifactor+1)+\" \"+((diffindaysfromend+1)*multifactor));\r\n    const url = `https://sheets.googleapis.com/v4/spreadsheets/${process.env.REACT_APP_spreadsheetId}/values:batchGet?ranges=Sheet1!A${(diffindaysfromstart)*multifactor+1}:D${(diffindaysfromend+1)*multifactor}&majorDimension=ROWS&key=${process.env.REACT_APP_apiKey}`;\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data)\r\n        let batchRowValues = data.valueRanges[0].values;\r\n        console.log(batchRowValues)\r\n        const rows = [];\r\n        for (let i = 0; i < batchRowValues.length; i++) {\r\n          let rowObject = {};\r\n          rowObject[\"Date_time\"] = batchRowValues[i][0];\r\n          rowObject[\"Blue_whale\"] = batchRowValues[i][1];\r\n          rowObject[\"Fin_whale\"] = batchRowValues[i][2];\r\n          rowObject[\"Other\"] = batchRowValues[i][3];\r\n          rows.push(rowObject);\r\n        }\r\n\r\n        this.setState(\r\n          {\r\n            items: rows,\r\n          },\r\n          () => this.populateDashboard()\r\n        );\r\n      });\r\n    // google sheets data\r\n  };\r\n  populateDashboard(){\r\n    const arr = this.state.items;\r\n    const arrLen = arr.length;\r\n\r\n    let bwCalls = 0;\r\n    let fwCalls = 0;\r\n    let otCalls = 0;\r\n    let totalCalls = 0;\r\n    let avgCallsTrend = [];\r\n    let arrtab = [];\r\n    let bwarrdiel = [];\r\n    let fwarrdiel = [];\r\n    let piearr = [];\r\n    let selectedValue = null;\r\n    let count = 0;\r\n\r\n    console.log(arr);\r\n    for (let j = 0; j < arrLen; j++) {\r\n      \r\n      var dateStr = arr[j][\"Date_time\"];\r\n      var dateOnly = dateStr.split(\" \");\r\n      var dayOnly = dateOnly[0].split(\"/\");\r\n      var hrOnly = dateOnly[1].split(\":\");\r\n      var hr = parseInt(hrOnly[0]) + hrOnly[1] / 60;\r\n      arrtab.push({ date_time : arr[j][\"Date_time\"], calls: arr[j][\"Blue_whale\"], type: \"Blue_whale\" });\r\n      arrtab.push({ date_time : arr[j][\"Date_time\"], calls: arr[j][\"Fin_whale\"], type: \"Fin_whale\" });\r\n      bwarrdiel.push({\r\n        HourOfDay: hr,\r\n        Day: dayOnly[1],\r\n        Calls: arr[j][\"Blue_whale\"]\r\n      });\r\n      fwarrdiel.push({\r\n        HourOfDay: hr,\r\n        Day: dayOnly[1],\r\n        Calls: arr[j][\"Fin_whale\"]\r\n      });\r\n    }\r\n\r\n    for (let i = 0; i < arrLen; i++) {\r\n      var dateStr = arr[i][\"Date_time\"];\r\n      var dateOnly = dateStr.split(\" \");\r\n        count += 1;\r\n        bwCalls += parseInt(arr[i].Blue_whale);\r\n        fwCalls += parseInt(arr[i].Fin_whale);\r\n        otCalls += parseInt(arr[i].Other);\r\n    }\r\n    var bwCallsinhr = formatNum((bwCalls / count) * 4);\r\n    var fwCallsinhr = formatNum((fwCalls / count) * 4);\r\n    var otCallsinhr = formatNum((otCalls / count) * 4);\r\n\r\n    var totalCallsinhr = parseInt(bwCallsinhr) + parseInt(fwCallsinhr) + parseInt(otCallsinhr) ;\r\n\r\n    piearr.push( {\"category\": \"Blue whale\", \"calls\": formatNum((bwCallsinhr/totalCallsinhr)*100)});\r\n    piearr.push( {\"category\": \"Fin whale\", \"calls\": formatNum((fwCallsinhr/totalCallsinhr)*100)});\r\n    piearr.push( {\"category\": \"Other sounds\", \"calls\": formatNum((otCallsinhr/totalCallsinhr)*100)});\r\n\r\n    console.log(piearr);\r\n\r\n    avgCallsTrend.push({\r\n      label: \"Blue Whale\",\r\n      value: bwCallsinhr,\r\n      displayValue: `${bwCallsinhr} Calls`\r\n    });\r\n    avgCallsTrend.push({\r\n      label: \"Fin Whale\",\r\n      value: fwCallsinhr,\r\n      displayValue: `${fwCallsinhr} Calls`\r\n    });\r\n    totalCalls = bwCalls + fwCalls + otCalls;\r\n\r\n    // setting state\r\n    this.setState({\r\n      bwCalls: bwCallsinhr,\r\n      fwCalls: fwCallsinhr,\r\n      otCalls: otCallsinhr,\r\n      totalCalls: formatNum((totalCalls / count) * 4),\r\n      avgCallsTrend: avgCallsTrend,\r\n      pieData: { table: piearr},\r\n      barData: { table: arrtab },\r\n      bwdielData: { source: bwarrdiel },\r\n      fwdielData: { source: fwarrdiel }\r\n    });\r\n  }\r\n  updateDashboard = event => {\r\n    this.getData(event.value);\r\n    this.setState({ selectedValue: event.value });\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data)\r\n        let batchRowValues = data.valueRanges[0].values;\r\n\r\n        let dropdownOptions = [];\r\n        for (let i = 1; i < batchRowValues.length; i+=96*7) {\r\n          var date1Str = batchRowValues[i][0];\r\n          var date1Only = date1Str.split(\" \");\r\n          var date2Str = (i+96*6>batchRowValues.length)?(batchRowValues[batchRowValues.length-1][0]):(batchRowValues[i+96*6][0]);\r\n          var date2Only = date2Str.split(\" \");\r\n          dropdownOptions.push(date1Only[0]+\" - \"+date2Only[0]);\r\n        }\r\n\r\n        dropdownOptions = Array.from(new Set(dropdownOptions)).reverse();\r\n        \r\n        console.log(dropdownOptions)\r\n        this.setState(\r\n          {\r\n            // items: rows,\r\n            dropdownOptions: dropdownOptions,\r\n            selectedValue: dropdownOptions[0],\r\n            startDate: dropdownOptions[dropdownOptions.length-1]\r\n          },\r\n          () => this.getData(this.state.selectedValue)\r\n        );\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        {/* static navbar - top */}\r\n        <Nav className=\"navbar navbar-expand-lg fixed-top is-white is-dark-text\">\r\n          <Container className=\"navbar-brand h1 mb-0 text-large font-medium\">\r\n            Orca Dashboard\r\n          </Container>\r\n          <Container className=\"navbar-nav ml-auto\">\r\n            <Container className=\"user-detail-section\">\r\n              <a href=\"https://join.slack.com/t/orcadashboardalert/shared_invite/zt-jrq0t43a-T3y0wKKDgc6uHv_FXHBYgA\" target=\"_blank\"><Button className=\"button\" >Join Slack</Button></a>\r\n            </Container>\r\n          </Container>\r\n        </Nav>\r\n\r\n        {/* static navbar - bottom */}\r\n        <Nav className=\"navbar fixed-top nav-secondary is-dark is-light-text\">\r\n          <Container className=\"text-medium\">Summary / Weekly</Container>\r\n          <Container className=\"navbar-nav ml-auto\">\r\n            <Dropdown\r\n              className=\"pr-2 custom-dropdown\"\r\n              options={this.state.dropdownOptions}\r\n              onChange={this.updateDashboard}\r\n              value={this.state.selectedValue}\r\n              placeholder=\"Select an option\"\r\n            />\r\n          </Container>\r\n        </Nav>\r\n\r\n        {/* content area start */}\r\n        <Container className=\"container-fluid pr-5 pl-5 pt-5 pb-5\">\r\n\r\n          {/* row 1 */}\r\n          <Container className=\"row\">\r\n            <Container className=\"col-md-4 col-lg-3 is-light-text mb-4\">\r\n              <Container className=\"card grid-card is-card-dark\">\r\n              <Container className=\"card-heading mb-3\">\r\n                  <Container className=\"is-dark-text-light letter-spacing text-small\">\r\n                    Percentage Avg Calls/hr\r\n                  </Container>\r\n                </Container>\r\n               <Vega spec={pieChart} data={this.state.pieData} theme=\"dark\"/>\r\n              </Container>\r\n            </Container>\r\n\r\n            <Container className=\"col-md-8 col-lg-9 is-light-text mb-4\">\r\n              <Container className=\"card is-card-dark chart-card\">\r\n                <Container className=\"row full-height\">\r\n                  <Container className=\"col-sm-4 full height\">\r\n                    <Container className=\"grid-card is-card-dark\">\r\n                      <Container className=\"card-heading\">\r\n                        <Container className=\"is-dark-text-light letter-spacing text-small\">\r\n                          Blue Whale Avg Calls/hr\r\n                        </Container>\r\n                      </Container>\r\n\r\n                      <Container className=\"card-value pt-4 text-x-large\">\r\n                        {this.state.bwCalls}\r\n                      </Container>\r\n                    </Container>\r\n                  </Container>\r\n                  <Container className=\"col-sm-4 full-height border-left border-right\">\r\n                    <Container className=\"chart-container full-height\">\r\n                      <Container className=\"grid-card is-card-dark\">\r\n                        <Container className=\"card-heading\">\r\n                          <Container className=\"is-dark-text-light letter-spacing text-small\">\r\n                            Fin Whale Avg Calls/hr\r\n                          </Container>\r\n                        </Container>\r\n\r\n                        <Container className=\"card-value pt-4 text-x-large\">\r\n                          {this.state.fwCalls}\r\n                        </Container>\r\n                      </Container>\r\n                    </Container>\r\n                  </Container>\r\n                  <Container className=\"col-sm-4 full-height\">\r\n                    <Container className=\"chart-container full-height\">\r\n                      <Container className=\"grid-card is-card-dark\">\r\n                        <Container className=\"card-heading\">\r\n                          <Container className=\"is-dark-text-light letter-spacing text-small\">\r\n                            Other Avg Sounds/hr\r\n                          </Container>\r\n                        </Container>\r\n\r\n                        <Container className=\"card-value pt-4 text-x-large\">\r\n                          {this.state.otCalls}\r\n                        </Container>\r\n                      </Container>\r\n                    </Container>\r\n                  </Container>\r\n                </Container>\r\n              </Container>\r\n            </Container>\r\n          </Container>\r\n\r\n          {/* row 2 */}\r\n          <Container className=\"row\" style={{ minHeight: \"400px\" }}>\r\n            <Container className=\"col-md-12 mb-4\">\r\n              <Container className=\"card is-card-dark chart-card\">\r\n                <Container className=\"chart-container large full-height\">\r\n                  <Vega spec={Barspec} data={this.state.barData} theme=\"dark\" />\r\n                </Container>\r\n              </Container>\r\n            </Container>\r\n          </Container>\r\n\r\n          {/* row 3 */}\r\n          <Container className=\"row\" style={{ minHeight: \"400px\" }}>\r\n            <Container className=\"col-md-6 mb-4\">\r\n              <Container className=\"card is-card-dark chart-card\">\r\n                <Container className=\"chart-container large full-height\">\r\n                  <Vega spec={bwDielspec} data={this.state.bwdielData} theme=\"dark\" />\r\n                </Container>\r\n              </Container>\r\n            </Container>\r\n\r\n            <Container className=\"col-md-6 mb-4\">\r\n              <Container className=\"card is-card-dark chart-card\">\r\n                <Container className=\"chart-container large full-height\">\r\n                  <Vega spec={fwDielspec} data={this.state.fwdielData} theme=\"dark\" />\r\n                </Container>\r\n              </Container>\r\n            </Container>\r\n          </Container>\r\n        </Container>\r\n        {/* content area end */}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createBrowserHistory } from \"history\";\r\nimport { Router, Route, Switch } from \"react-router\";\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nimport 'react-dropdown/style.css';\r\nimport './style.css';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nvar hist = createBrowserHistory();\r\n\r\nReactDOM.render(<Router history={hist}>\r\n    <Switch>\r\n      <Route path=\"/\" component={App} />\r\n    </Switch>\r\n  </Router>, document.getElementById('root'));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}